<p id="notice"><%= notice %></p>

<div data-controller="hello">
  <input data-hello-target="name" type="text" placeholder="What is your name?">
  <button data-action="click->hello#greet">Greet</button>
</div>

<h1 class="text-center">Tasks</h1>

<div class="container">
  <div class="table-responsive">
    <table class="table table-striped table-bordered table-hover">
      <thead>
        <tr>
          <th scope="col"></th>
          <th scope="col">Title</th>
          <th scope="col">Completed at</th>
          <th scope="col" colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @tasks.each do |task| %>
          <%= content_tag :tr, id: dom_id(task), class: dom_class(task) do %>
            <td><%= check_box_tag nil, nil, task.completed_at?, data: { reflex: "click->ExampleReflex#toggle", id: task.id } %></td>
            <td><%= task.title %></td>
            <td><%= task.completed_at %></td>
            <td><%= link_to 'Remove', task, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            </tr>
          <% end %>
        <% end %>
      </tbody>
    </table>

    <%= render 'tasks/form', task: @task %>
  </div>
</div>
